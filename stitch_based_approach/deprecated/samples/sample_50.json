[
  "(lam (lam (let ship_ids (app np-unique true-board) 0)))",
  "(lam (lam (let rows_to_check unknown (let ncols (app (app subscript true-board.shape) 1) 0))))",
  "(lam (lam (let queries unknown 0)))",
  "(lam (lam (let ship_types unknown (let remaining_ship () (let row_G_index (app (app sub (app ord \"G\")) (app ord \"A\")) (app np-any (app (app gt (app (app subscript remaining_ship) (pair (slice 0 inf) 0))) row_G_index)))))))",
  "(lam (lam (let unrevealed (app (app and (app (app gt true-board) 0)) (app (app eq partial-board) unknown)) (let $v0 (app np-where unrevealed) (app np-any (app (app lt rows) 2))))))",
  "(lam (lam (let green_mask (app (app eq true-board) 2) (app np-all (app (app eq (app (app subscript partial-board) green_mask)) 2)))))",
  "(lam (lam (let ship_ids (app np-unique true-board) (let ship_ids (app (app subscript ship_ids) (app (app gt ship_ids) 0)) (let sunk_count 0 (app (app gte sunk_count) 2))))))",
  "(lam (lam (let unrevealed (app (app and (app (app gt true-board) 0)) (app (app eq partial-board) unknown)) (let $v0 (app np-nonzero unrevealed) (app bool (app np-any (app (app gt rows) 4)))))))",
  "(lam (lam (let row_idx (app (app sub (app ord \"E\")) (app ord \"A\")) (let col_idx (app (app sub 7) 1) (let neighbors unknown (let $v0 true-board.shape 0))))))",
  "(lam (lam (let $v0 (app np-where (app (app eq true-board) 2)) 0)))",
  "(lam (lam (let row_idx (app (app sub (app ord \"F\")) (app ord \"A\")) (let col_idx (app (app sub 3) 1) (let below_row (app (app add row_idx) 1) (app bool (app (app gt (app (app subscript true-board) (pair below_row col_idx))) 0)))))))",
  "(lam (lam (let $v0 true-board.shape (let row_idx (app (app subscript (app np-arange n_rows)) (pair (slice 0 inf) ())) (let col_idx (app (app subscript (app np-arange n_cols)) (pair () (slice 0 inf))) (let region_mask (app (app and (app (app gt row_idx) 3)) (app (app lt col_idx) 4)) (let unrevealed_ship_mask (app (app and (app (app gt true-board) 0)) (app (app eq partial-board) unknown)) (app bool (app np-any (app (app and region_mask) unrevealed_ship_mask))))))))))",
  "(lam (lam (let f_index (app (app sub (app ord \"F\")) (app ord \"A\")) (let rows_after_f (app (app slice (app (app add f_index) 1)) ()) (let true_sub (app (app subscript true-board) (pair rows_after_f (slice 0 inf))) (let partial_sub (app (app subscript partial-board) (pair rows_after_f (slice 0 inf))) (let concealed_ship_tiles (app (app and (app (app gt true_sub) 0)) (app (app eq partial_sub) unknown)) (app bool (app np-any concealed_ship_tiles)))))))))",
  "(lam (lam (let row 6 (let unrevealed (app (app eq (app (app subscript partial-board) (pair row (slice 0 inf)))) unknown) (let ship_tiles (app (app gt (app (app subscript true-board) (pair row (slice 0 inf)))) 0) (app bool (app np-any (app (app and unrevealed) ship_tiles))))))))",
  "(lam (lam (let row_idx (app (app sub (app ord \"D\")) (app ord \"A\")) (let hidden_ship_in_row (app (app and (app (app gt (app (app subscript true-board) (pair row_idx (slice 0 inf)))) 0)) (app (app eq (app (app subscript partial-board) (pair row_idx (slice 0 inf)))) unknown)) (app bool (app np-any hidden_ship_in_row))))))",
  "(lam (lam (let region_mask (app np-zeros_like true-board) (let $v0 1 (let unrevealed_ship (app (app and (app (app gt true-board) 0)) (app (app eq partial-board) unknown)) (app bool (app np-any (app (app and region_mask) unrevealed_ship))))))))",
  "(lam (lam (let col_idx 7 (let hidden_ship_mask (app (app and (app (app eq (app (app subscript partial-board) (pair (slice 0 6) col_idx))) unknown)) (app (app gt (app (app subscript true-board) (pair (slice 0 6) col_idx))) 0)) (app bool (app np-any hidden_ship_mask))))))",
  "(lam (lam (let row_index (app (app sub (app ord \"C\")) (app ord \"A\")) (let true_row (app (app subscript true-board) row_index) (let partial_row (app (app subscript partial-board) row_index) (let hidden_ship_mask (app (app and (app (app gt true_row) 0)) (app (app eq partial_row) unknown)) (app bool (app np-any hidden_ship_mask))))))))",
  "(lam (lam (let hidden (app (app eq partial-board) unknown) (let ship_tiles (app (app gt true-board) 0) (let cols (app np-arange (app (app subscript true-board.shape) 1)) (let after_four (app (app gte cols) 4) (let after_four_mask (app (app subscript after_four) (pair np.newaxis (slice 0 inf))) (let target_mask (app (app and (app (app and hidden) ship_tiles)) after_four_mask) (app bool (app np-any target_mask))))))))))",
  "(lam (lam (let neighbors unknown (let $v0 true-board.shape 0))))",
  "(lam (lam (let $v0 true-board.shape (let mid_row (app (app unknown n_rows) 2) (let mid_col (app (app unknown n_cols) 2) (let q1_true (app (app subscript true-board) (pair (slice 0 mid_row) (slice 0 mid_col))) (let q1_part (app (app subscript partial-board) (pair (slice 0 mid_row) (slice 0 mid_col))) (let q2_true (app (app subscript true-board) (pair (slice 0 mid_row) (slice mid_col inf))) (let q2_part (app (app subscript partial-board) (pair (slice 0 mid_row) (slice mid_col inf))) (let q1_has_hidden_ship (app np-any (app (app and (app (app gt q1_true) 0)) (app (app eq q1_part) unknown))) (let q2_has_hidden_ship (app np-any (app (app and (app (app gt q2_true) 0)) (app (app eq q2_part) unknown))) (app bool (app (app or q1_has_hidden_ship) q2_has_hidden_ship)))))))))))))",
  "(lam (lam (let col_index 2 (let ship_mask (app (app gt (app (app subscript true-board) (pair (slice 0 inf) col_index))) 0) (let hidden_mask (app (app eq (app (app subscript partial-board) (pair (slice 0 inf) col_index))) unknown) (app bool (app np-any (app (app and ship_mask) hidden_mask))))))))",
  "(lam (lam (let $v0 true-board.shape (let half_rows (app (app unknown n_rows) 2) (let half_cols (app (app unknown n_cols) 2) (let true_q1 (app (app subscript true-board) (pair (slice 0 half_rows) (slice 0 half_cols))) (let partial_q1 (app (app subscript partial-board) (pair (slice 0 half_rows) (slice 0 half_cols))) (let unrevealed_ship_in_q1 (app np-any (app (app and (app (app gt true_q1) 0)) (app (app eq partial_q1) unknown))) (app bool unrevealed_ship_in_q1)))))))))",
  "(lam (lam (let row_limit (app (app sub (app ord \"E\")) (app ord \"A\")) (let col_limit (app (app sub 4) 1) (let true_region (app (app subscript true-board) (pair (slice 0 row_limit) (slice 0 col_limit))) (let partial_region (app (app subscript partial-board) (pair (slice 0 row_limit) (slice 0 col_limit))) (let mask_unrevealed (app (app eq partial_region) unknown) (let mask_ship (app (app gt true_region) 0) (app bool (app np-any (app (app and mask_unrevealed) mask_ship)))))))))))",
  "(lam (lam (let ship_labels (app np-unique true-board) (let ship_labels (app (app subscript ship_labels) (app (app gt ship_labels) 0)) 0))))",
  "(lam (lam (let unrevealed (app (app and (app (app gt true-board) 0)) (app (app eq partial-board) unknown)) (app bool (app np-any (app (app subscript unrevealed) (pair 2 (slice 0 inf))))))))",
  "(lam (lam (let sub_true (app (app subscript true-board) (slice 5 inf)) (let sub_partial (app (app subscript partial-board) (slice 5 inf)) (app bool (app np-any (app (app and (app (app gt sub_true) 0)) (app (app eq sub_partial) unknown))))))))",
  "(lam (lam (let row_index 0 (let hidden_ship_mask (app (app and (app (app eq (app (app subscript partial-board) row_index)) unknown)) (app (app gt (app (app subscript true-board) row_index)) 0)) (app bool (app np-any hidden_ship_mask))))))",
  "(lam (lam (let unrevealed_ship (app (app and (app (app gt true-board) 0)) (app (app eq partial-board) unknown)) (app bool ('app', ('app', 'subscript', 'unrevealed_ship'), ('pair', ('slice', '4', 'inf'), ('slice', '0', 'inf'))).any))))",
  "(lam (lam (let hidden_ship (app (app and (app (app gt true-board) 0)) (app (app eq partial-board) unknown)) (let cols (app (app subscript (app np-arange (app (app subscript true-board.shape) 1))) (pair () (slice 0 inf))) (let after4 (app (app gte cols) 4) (app bool (app np-any (app (app and hidden_ship) after4))))))))",
  "(lam (lam (let row_idx (app (app sub (app ord \"C\")) (app ord \"A\")) (let mask_ship (app (app gt (app (app subscript true-board) (pair row_idx (slice 0 inf)))) 0) (let mask_hidden (app (app eq (app (app subscript partial-board) (pair row_idx (slice 0 inf)))) unknown) (app bool (app np-any (app (app and mask_ship) mask_hidden))))))))",
  "(lam (lam (let green_cells (app np-argwhere (app (app eq true-board) 2)) 0)))",
  "(lam (lam (let region_mask (app np-zeros_like true-board) (let $v0 1 (let hidden_ships_in_region (app (app and (app (app and (app (app gt true-board) 0)) (app (app eq partial-board) unknown))) region_mask) (app bool (app np-any hidden_ships_in_region)))))))",
  "(lam (lam (let green_coords (app np-argwhere (app (app eq true-board) 2)) (let cols (app (app subscript green_coords) (pair (slice 0 inf) 1)) (app np-all (app (app eq cols) (app (app subscript cols) 0)))))))",
  "(lam (lam (let ship_ids (app np-unique true-board) (let ship_ids (app (app subscript ship_ids) (app (app gt ship_ids) 0)) (let max_length 0 (let info unknown 1))))))",
  "(lam (lam (let row_mask (app (app lt (app np-arange (app (app subscript true-board.shape) 0))) 4) (let col_mask (app (app gt (app np-arange (app (app subscript true-board.shape) 1))) 4) (let region_mask (app (app np-outer row_mask) col_mask) (let ship_mask (app (app gt true-board) 0) (let hidden_mask (app (app eq partial-board) unknown) (app bool (app np-any (app (app and (app (app and region_mask) ship_mask)) hidden_mask))))))))))",
  "(lam (lam (let target_rows unknown (let row_mask (app np-zeros_like true-board) (let $v0 1 (let ship_mask (app (app gt true-board) 0) (let unrevealed_mask (app (app eq partial-board) unknown) (app bool (app np-any (app (app and (app (app and row_mask) ship_mask)) unrevealed_mask))))))))))",
  "(lam (lam (let row_index 2 (let hidden_ship_mask (app (app and (app (app gt (app (app subscript true-board) (pair row_index (slice 0 inf)))) 0)) (app (app eq (app (app subscript partial-board) (pair row_index (slice 0 inf)))) unknown)) (app bool (app np-any hidden_ship_mask))))))",
  "(lam (lam (let rows_below_E (app (app gt (app np-arange (app (app subscript true-board.shape) 0))) 4) (let cols_after_5 (app (app gt (app np-arange (app (app subscript true-board.shape) 1))) 5) (let region_mask (app (app np-outer rows_below_E) cols_after_5) (let hidden_ship_tiles_in_region (app (app and (app (app and (app (app gt true-board) 0)) (app (app eq partial-board) unknown))) region_mask) (app bool (app np-any hidden_ship_tiles_in_region))))))))",
  "(lam (lam (let unrevealed (app (app and (app (app eq partial-board) unknown)) (app (app gt true-board) 0)) (let row_limit (app (app sub (app ord \"c\")) (app ord \"a\")) (let col_limit (app (app sub 5) 1) (let region_mask (app np-zeros_like unrevealed) (let $v0 1 (app bool (app np-any (app (app and unrevealed) region_mask))))))))))",
  "(lam (lam (let sub_true (app (app subscript true-board) (pair (slice 0 2) (slice 0 4))) (let sub_partial (app (app subscript partial-board) (pair (slice 0 2) (slice 0 4))) (app bool ('app', ('app', 'and', ('app', ('app', 'gt', 'sub_true'), '0')), ('app', ('app', 'eq', 'sub_partial'), 'unknown')).any)))))",
  "(lam (lam (let unrevealed_ship (app (app and (app (app eq partial-board) unknown)) (app (app gt true-board) 0)) (app bool (app (app or (app np-any (app (app subscript unrevealed_ship) 2))) (app np-any (app (app subscript unrevealed_ship) 4)))))))",
  "(lam (lam (let orange_positions (app np-argwhere (app (app eq true-board) 4)) (let cols (app (app subscript orange_positions) (pair (slice 0 inf) 1)) (app np-all (app (app eq cols) (app (app subscript cols) 0)))))))",
  "(lam (lam (let row_idx (app (app sub (app ord \"f\")) (app ord \"a\")) (let region_true (app (app subscript true-board) (pair row_idx (slice 0 5))) (let region_partial (app (app subscript partial-board) (pair row_idx (slice 0 5))) (let region_true (app (app subscript region_true) (slice 0 4)) (let region_partial (app (app subscript region_partial) (slice 0 4)) (let hidden_ship_tiles (app (app and (app (app gt region_true) 0)) (app (app eq region_partial) unknown)) (app bool (app np-any hidden_ship_tiles))))))))))",
  "(lam (lam (let row_F 5 (let row_G 6 (let f_slice (app (app gt (app (app subscript true-board) (pair row_F (slice 6 inf)))) 0) (let f_unrevealed (app (app eq (app (app subscript partial-board) (pair row_F (slice 6 inf)))) unknown) (let g_slice (app (app gt (app (app subscript true-board) (pair row_G (slice 0 inf)))) 0) (let g_unrevealed (app (app eq (app (app subscript partial-board) (pair row_G (slice 0 inf)))) unknown) (app bool (app (app or (app np-any (app (app and f_slice) f_unrevealed))) (app np-any (app (app and g_slice) g_unrevealed))))))))))))",
  "(lam (lam (let row_idx (app (app sub (app ord \"H\")) (app ord \"A\")) (app np-any (app (app and (app (app gt (app (app subscript true-board) row_idx)) 0)) (app (app eq (app (app subscript partial-board) row_idx)) unknown))))))",
  "(lam (lam (let rows_mask (app np-zeros_like true-board) (let $v0 1 (let ship_mask (app (app gt true-board) 0) (let hidden_mask (app (app eq partial-board) unknown) (app bool (app np-any (app (app and (app (app and rows_mask) ship_mask)) hidden_mask)))))))))",
  "(lam (lam (let orange_coords (app np-argwhere (app (app eq true-board) 4)) (let rows (app (app subscript orange_coords) (pair (slice 0 inf) 0)) (let cols (app (app subscript orange_coords) (pair (slice 0 inf) 1)) (let $v0 true-board.shape (let bottom_row rows.max (let col (app (app subscript cols) 0) (let below (app (app add bottom_row) 1) 0)))))))))",
  "(lam (lam (let row_idx (app (app sub (app ord \"E\")) (app ord \"A\")) (let hidden_ships_in_E (app (app and (app (app gt (app (app subscript true-board) (pair row_idx (slice 0 inf)))) 0)) (app (app eq (app (app subscript partial-board) (pair row_idx (slice 0 inf)))) unknown)) (app bool (app np-any hidden_ships_in_E))))))",
  "(lam (lam (let true_even_cols (app (app subscript true-board) (pair (slice 0 inf) (slice 1 inf))) (let partial_even_cols (app (app subscript partial-board) (pair (slice 0 inf) (slice 1 inf))) (let unrevealed_ships_in_evens (app (app and (app (app gt true_even_cols) 0)) (app (app eq partial_even_cols) unknown)) (app bool (app np-any unrevealed_ships_in_evens)))))))"
]